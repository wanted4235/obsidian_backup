## 5Ô∏è‚É£ –ú–µ—Ç–æ–¥ `Task.Yield()`

## üìå –ß—Ç–æ —Ç–∞–∫–æ–µ `Task.Yield()`?

`Task.Yield()` ‚Äî —ç—Ç–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ –∏–∑ –∫–ª–∞—Å—Å–∞ `Task`, –∫–æ—Ç–æ—Ä—ã–π **–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –∑–∞–¥–∞—á—É**, –Ω–∞–∑—ã–≤–∞–µ–º—É—é **"yield task"**. –≠—Ç–∞ –∑–∞–¥–∞—á–∞ **–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è**, –Ω–æ –ø—Ä–∏ –µ—ë await'–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç **–ø–µ—Ä–µ–¥–∞—á–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ –≤ —Ç–µ–∫—É—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è**.

### üß† –ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏:
> –ö–æ–≥–¥–∞ —Ç—ã –ø–∏—à–µ—à—å `await Task.Yield();`, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞ **–ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è**, –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ **–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤—ã–∑—ã–≤–∞—é—â–µ–º—É –∫–æ–¥—É**, –∞ **–¥–∞–ª—å–Ω–µ–π—à–∞—è —á–∞—Å—Ç—å –º–µ—Ç–æ–¥–∞ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –ø–æ–∑–∂–µ**, –∫–æ–≥–¥–∞ –ø–æ—Ç–æ–∫ —Å—Ç–∞–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–º.

---

## üí° –ó–∞—á–µ–º –Ω—É–∂–µ–Ω `Task.Yield()`?

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–µ–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

| –¶–µ–ª—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| **–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ UI-–ø–æ—Ç–æ–∫–∞** | –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å UI-–ø–æ—Ç–æ–∫, —á—Ç–æ–±—ã –æ–Ω –º–æ–≥ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –¥—Ä—É–≥–∏–µ –∑–∞–¥–∞—á–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫—É –æ–∫–Ω–∞). |
| **–ò–∑–±–µ–∂–∞–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ—Ç–æ–∫–∞** | –ü–æ–ª–µ–∑–Ω–æ, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ "–æ—Ç–ª–æ–∂–∏—Ç—å" –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —á–∞—Å—Ç–∏ –º–µ—Ç–æ–¥–∞, —á—Ç–æ–±—ã –Ω–µ –∑–∞–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ç–µ–∫—É—â–µ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ. |
| **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è** | –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏, –∫–∞–∫ –≤–µ–¥—ë—Ç —Å–µ–±—è async/await-–∫–æ–¥. |
| **–£—Ö–æ–¥ –æ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è** | –ï—Å–ª–∏ —á–∞—Å—Ç—å –º–µ—Ç–æ–¥–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö async –æ–ø–µ—Ä–∞—Ü–∏–π. |

---

## ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. **–ü—Ä–∏–º–µ—Ä –≤ UI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ (WPF / WinForms):**
```csharp
private async void button_Click(object sender, EventArgs e)
{
    // –°–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–∞—Å—Ç—å —Ä–∞–±–æ—Ç—ã
    DoInitialWork();

    // –û—Ç–¥–∞—ë–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ UI-–ø–æ—Ç–æ–∫–æ–º –æ–±—Ä–∞—Ç–Ω–æ
    await Task.Yield();

    // –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –≤—ã–ø–æ–ª–Ω—è—Ç—å –¥–æ–ª–≥—É—é —Ä–∞–±–æ—Ç—É
    DoHeavyBackgroundWork();
}
```

> üîç –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É "–Ω–µ –∑–∞–≤–∏—Å–Ω—É—Ç—å", –ø–æ—Ç–æ–º—É —á—Ç–æ `DoHeavyBackgroundWork()` –Ω–∞—á–Ω—ë—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è **–ø–æ—Å–ª–µ —Ç–æ–≥–æ**, –∫–∞–∫ UI-–ø–æ—Ç–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç –¥—Ä—É–≥–∏–µ —Å–æ–±—ã—Ç–∏—è.

---

### 2. **–ü—Ä–∏–º–µ—Ä —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º:**
```csharp
public async Task MyMethodAsync()
{
    Console.WriteLine("–ß–∞—Å—Ç—å 1");

    await Task.Yield(); // –£—Ö–æ–¥–∏–º –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

    Console.WriteLine("–ß–∞—Å—Ç—å 2");
}
```

–ï—Å–ª–∏ —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ UI-–ø–æ—Ç–æ–∫–∞, —Ç–æ `"–ß–∞—Å—Ç—å 2"` —Ç–∞–∫–∂–µ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –≤ **UI-–ø–æ—Ç–æ–∫–µ**, –ø–æ—Ç–æ–º—É —á—Ç–æ `await` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç.

---

### 3. **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å `await Task.CompletedTask`**

| –ú–µ—Ç–æ–¥ | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç? | –í–ª–∏—è–Ω–∏–µ –Ω–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç |
|-------|-------------|---------------------|
| `await Task.Yield();` | –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é –∏—Ç–µ—Ä–∞—Ü–∏—é —Ü–∏–∫–ª–∞ —Å–æ–æ–±—â–µ–Ω–∏–π | –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ–∫—É—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç |
| `await Task.CompletedTask;` | –ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ä–∞–∑—É –∂–µ, –±–µ–∑ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è | –¢–∞–∫–∂–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç, –Ω–æ –Ω–µ –¥–∞—ë—Ç "–ø–∞—É–∑—ã" |

---

## ‚öôÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏?

–ö–æ–≥–¥–∞ –≤—ã –ø–∏—à–µ—Ç–µ `await Task.Yield();`, –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä C# –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π:

1. **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–µ–∫—É—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (`SynchronizationContext`)**
2. **–ó–∞–ø–ª–∞–Ω–∏—Ä—É–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞** —á–µ—Ä–µ–∑ —ç—Ç–æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç
3. **–í–µ—Ä–Ω—ë—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–∑—ã–≤–∞—é—â–µ–º—É –∫–æ–¥—É**

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤—Å—ë, —á—Ç–æ –ø–æ—Å–ª–µ `await Task.Yield();`, –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–æ **–ø–æ–∑–∂–µ**, –∫–æ–≥–¥–∞ —Ç–µ–∫—É—â–∞—è –æ—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á –ø–æ–∑–≤–æ–ª–∏—Ç.

---

## üõë –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è:

- ‚ùó –ù–µ –±–ª–æ–∫–∏—Ä—É–π—Ç–µ `Task.Yield()` —Å –ø–æ–º–æ—â—å—é `.Result` –∏–ª–∏ `.Wait()` ‚Äî —ç—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ deadlock.
- ‚ùó –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ —Ç–∞–º, –≥–¥–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–∞ –ø–µ—Ä–µ–¥–∞—á–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚Äî –Ω–µ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª—è–π—Ç–µ –∏–º.
- ‚úÖ –ü–æ–ª–µ–∑–µ–Ω –≤ UI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö, –Ω–æ **–º–µ–Ω–µ–µ –∞–∫—Ç—É–∞–ª–µ–Ω –≤ –∫–æ–Ω—Å–æ–ª—å–Ω—ã—Ö –∏–ª–∏ ASP.NET –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö**, –≥–¥–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç –Ω–µ —Ç–∞–∫ –≤–∞–∂–µ–Ω.

---

## üìù –†–µ–∑—é–º–µ

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------------|----------|
| **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ** | –ü–µ—Ä–µ–¥–∞—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω–æ –≤—ã–∑—ã–≤–∞—é—â–µ–º—É –∫–æ–¥—É |
| **–ì–¥–µ –ø–æ–ª–µ–∑–µ–Ω** | –í UI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –¥–∏–∑–∞–π–Ω–µ |
| **–ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫** | –î–∞ |
| **–í–ª–∏—è–µ—Ç –Ω–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç** | –î–∞, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–≥–æ |
| **–ê–Ω–∞–ª–æ–≥–∏** | `await Task.CompletedTask` (–±–µ–∑ –ø–∞—É–∑—ã), `await Task.Delay(0)` (—É—Å—Ç–∞—Ä–µ–ª–æ) |

---

–ö–æ–Ω–µ—á–Ω–æ! –í–æ—Ç **–¥–∏–∞–≥—Ä–∞–º–º–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (sequence diagram)**, –∫–æ—Ç–æ—Ä–∞—è –Ω–∞–≥–ª—è–¥–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `Task.Yield()` –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –º–µ—Ç–æ–¥–µ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ UI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, WPF –∏–ª–∏ Windows Forms).

---

## üìà –î–∏–∞–≥—Ä–∞–º–º–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: `Task.Yield()`

### üéØ –°—Ü–µ–Ω–∞—Ä–∏–π:
–ü—Ä–æ—Å—Ç–æ–µ UI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –∫–Ω–æ–ø–∫–æ–π. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥, –≤ –∫–æ—Ç–æ—Ä–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `await Task.Yield();`.

---

### üíª –ö–æ–¥:

```csharp
private async void button1_Click(object sender, EventArgs e)
{
    textBox.Text = "–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã";

    DoFirstPart();

    await Task.Yield(); // –ü–µ—Ä–µ–¥–∞—ë–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω–æ

    DoSecondPart();
}

private void DoFirstPart()
{
    textBox.AppendText("\r\n–ü–µ—Ä–≤–∞—è —á–∞—Å—Ç—å");
}

private void DoSecondPart()
{
    textBox.AppendText("\r\n–í—Ç–æ—Ä–∞—è —á–∞—Å—Ç—å");
}
```

---

## üßæ –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π (Sequence Diagram):

```
[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å] 
     ‚îÇ
     ‚ñº
[button1_Click] ‚îÄ‚îÄ‚îÄ‚îê
                   ‚îÇ
      –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è: ‚îÇ
   textBox.Text = "–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã"  
                   ‚îÇ
       DoFirstPart() ‚Üí –≤—ã–≤–æ–¥–∏—Ç "–ü–µ—Ä–≤–∞—è —á–∞—Å—Ç—å"
                   ‚îÇ
    await Task.Yield() 
                   ‚îÇ
                   ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ [UI-–ø–æ—Ç–æ–∫ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è]
                   ‚îÇ                (–º–µ—Ç–æ–¥ –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è)
                   ‚îÇ
                   ‚îÇ                [UI –º–æ–∂–µ—Ç –æ–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å,
                   ‚îÇ                 –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –¥—Ä—É–≥–∏–µ —Å–æ–±—ã—Ç–∏—è]
                   ‚îÇ
                   ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ [–ú–µ—Ç–æ–¥ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ]
                   ‚îÇ
       DoSecondPart() ‚Üí –≤—ã–≤–æ–¥–∏—Ç "–í—Ç–æ—Ä–∞—è —á–∞—Å—Ç—å"
                   ‚îÇ
[–ö–æ–Ω–µ—Ü –º–µ—Ç–æ–¥–∞]    ‚îÇ
```

---

## üîç –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —à–∞–≥ –∑–∞ —à–∞–≥–æ–º:

| –®–∞–≥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|
| 1 | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –Ω–∞ –∫–Ω–æ–ø–∫—É ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `button1_Click` |
| 2 | –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ: `"–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã"` |
| 3 | –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–≤–∞—è —á–∞—Å—Ç—å –ª–æ–≥–∏–∫–∏: `DoFirstPart()` |
| 4 | –í—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è `await Task.Yield()` ‚Äî —Ç–µ–∫—É—â–∏–π –º–µ—Ç–æ–¥ **–ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è** |
| 5 | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ **–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ UI-–ø–æ—Ç–æ–∫**, –æ–Ω –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –¥—Ä—É–≥–∏–µ —Å–æ–±—ã—Ç–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∞—Ç—å —Ñ–æ—Ä–º—É) |
| 6 | –ß–µ—Ä–µ–∑ –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è (–∫–∞–∫ —Ç–æ–ª—å–∫–æ –æ—á–µ—Ä–µ–¥—å –ø–æ–∑–≤–æ–ª–∏—Ç), –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞ **–ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è** –ø–æ—Å–ª–µ `await` |
| 7 | –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤—Ç–æ—Ä–∞—è —á–∞—Å—Ç—å –ª–æ–≥–∏–∫–∏: `DoSecondPart()` |

---

## üìå –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã:

- ‚úÖ **`Task.Yield()` –ø–æ–∑–≤–æ–ª—è–µ—Ç UI-–ø–æ—Ç–æ–∫—É "–¥—ã—à–∞—Ç—å"**, –¥–∞–∂–µ –µ—Å–ª–∏ —Ä–∞–±–æ—Ç–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ.
- ‚ùó –ú–µ—Ç–æ–¥ **–Ω–µ –≤—ã—Ö–æ–¥–∏—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫**, –≤—Å—ë –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ UI-–ø–æ—Ç–æ–∫–µ.
- ‚ö†Ô∏è –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `.Result` –∏–ª–∏ `.Wait()` –Ω–∞ `Task.Yield()` ‚Äî —ç—Ç–æ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å deadlock.