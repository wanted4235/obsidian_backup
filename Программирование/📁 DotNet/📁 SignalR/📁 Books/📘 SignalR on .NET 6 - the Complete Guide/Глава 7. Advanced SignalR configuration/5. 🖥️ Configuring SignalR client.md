
SignalR –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–ø–æ–≤ –∫–ª–∏–µ–Ω—Ç–æ–≤ (—Ä–∞–∑–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã –∏–º–µ—é—Ç —Ä–∞–∑–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏), –≤–∫–ª—é—á–∞—è:
- **JavaScript –∫–ª–∏–µ–Ω—Ç** (–¥–ª—è –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π)
- **.NET –∫–ª–∏–µ–Ω—Ç** (–¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–Ω—ã—Ö, –º–æ–±–∏–ª—å–Ω—ã—Ö –∏ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π)

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∫–∞–∂–¥–æ–≥–æ –∏–∑ –Ω–∏—Ö.

---

## 1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ JavaScript –∫–ª–∏–µ–Ω—Ç–∞**

JavaScript –∫–ª–∏–µ–Ω—Ç SignalR –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ö–∞–±–∞–º–∏ SignalR.

### üîß –û—Å–Ω–æ–≤–Ω—ã–µ —à–∞–≥–∏:

#### 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
```html
<script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/6.0.0/signalr.min.js"></script>
```

#### 2. –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
```javascript
const connection = new signalR.HubConnectionBuilder()
    .withUrl("https://localhost:5001/chatHub")
    .build();
```

> –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞, –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –¥—Ä—É–≥–∏–µ –æ–ø—Ü–∏–∏.

---

### üõ†Ô∏è –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ JavaScript –∫–ª–∏–µ–Ω—Ç–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| `withUrl(url, options)` | –£–∫–∞–∑—ã–≤–∞–µ—Ç URL —Ö–∞–±–∞ –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç) |
| `withAutomaticReconnect()` | –í–∫–ª—é—á–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è |
| `.configureLogging(signalR.LogLevel.Information)` | –í–∫–ª—é—á–∞–µ—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ |
| `.build()` | –°–æ–±–∏—Ä–∞–µ—Ç –æ–±—ä–µ–∫—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è |

---

### üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

```javascript
connection.start().catch(err => console.error(err));

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
connection.withAutomaticReconnect([0, 3000, 5000, 10000, 15000]);
```

–ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –º–∞—Å—Å–∏–≤ –∑–∞–¥–µ—Ä–∂–µ–∫ –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.

---

### üö¶ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

```javascript
connection.configureLogging(signalR.LogLevel.Trace);
```

–£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
- `None`
- `Critical`
- `Error`
- `Warning`
- `Information`
- `Trace` ‚Äî —Å–∞–º—ã–π –¥–µ—Ç–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å

---

### üåê –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç

```javascript
connection.start({ transport: signalR.HttpTransportType.WebSockets });
```

–î–æ—Å—Ç—É–ø–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
- `WebSockets`
- `ServerSentEvents`
- `LongPolling`

---

### üì° –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞

```javascript
connection.on("ReceiveMessage", (user, message) => {
    console.log(`${user}: ${message}`);
});
```

---

### üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–ü–µ—Ä–µ–¥–∞—á–∞ —Ç–æ–∫–µ–Ω–∞ —á–µ—Ä–µ–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∏:

```javascript
const connection = new signalR.HubConnectionBuilder()
    .withUrl("https://localhost:5001/chatHub", {
        accessTokenFactory: () => localStorage.getItem("authToken")
    })
    .build();
```

---

## 2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ .NET –∫–ª–∏–µ–Ω—Ç–∞**

.NET –∫–ª–∏–µ–Ω—Ç SignalR –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –Ω–∞ C#, —Ç–∞–∫–∏—Ö –∫–∞–∫ WPF, Blazor Server, ASP.NET Core, Windows Services –∏ –¥—Ä.

### üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–∞

```bash
dotnet add package Microsoft.AspNetCore.SignalR.Client
```

---

### üõ† –ü—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞

```csharp
var connection = new HubConnectionBuilder()
    .WithUrl("https://localhost:5001/chatHub", options =>
    {
        options.AccessTokenProvider = () => Task.FromResult("your-auth-token");
        options.Headers["CustomHeader"] = "MyValue";
    })
    .ConfigureLogging(logging =>
    {
        logging.AddConsole();
        logging.SetMinimumLevel(LogLevel.Debug);
    })
    .Build();
```

---

### üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

```csharp
connection.Closed += async (error) =>
{
    await Task.Delay(5000); // –∂–¥–µ–º 5 —Å–µ–∫—É–Ω–¥
    await connection.StartAsync(); // –ø—Ä–æ–±—É–µ–º –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è
};
```

> –î–ª—è –±–æ–ª–µ–µ –≥–∏–±–∫–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `AddRetryPolicy`.

---

### üö¶ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

```csharp
.ConfigureLogging(logging =>
{
    logging.AddConsole();
    logging.SetMinimumLevel(LogLevel.Debug);
})
```

---

### üì° –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π

```csharp
connection.On<string, string>("ReceiveMessage", (user, message) =>
{
    Console.WriteLine($"{user}: {message}");
});
```

---

### üîÅ –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞

```csharp
await connection.InvokeAsync("Send", user, message);
```

–∏–ª–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —Å –æ–∂–∏–¥–∞–Ω–∏–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:

```csharp
var result = await connection.InvokeAsync<string>("Echo", "Hello");
```

---

### üåê –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫–ª–∏–µ–Ω—Ç –≤—ã–±–∏—Ä–∞–µ—Ç –ª—É—á—à–∏–π –¥–æ—Å—Ç—É–ø–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç. –ú–æ–∂–Ω–æ —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å:

```csharp
.WithUrl("https://localhost:5001/chatHub", HttpTransportType.LongPolling)
```

---

### üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–¢–æ–∫–µ–Ω –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å —á–µ—Ä–µ–∑ `AccessTokenProvider`:

```csharp
options.AccessTokenProvider = () => Task.FromResult("your-jwt-token");
```

–ò–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏:

```csharp
options.Headers["Authorization"] = "Bearer your-jwt-token";
```

---

## ‚úÖ –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π

| –§—É–Ω–∫—Ü–∏—è | JavaScript –∫–ª–∏–µ–Ω—Ç | .NET –∫–ª–∏–µ–Ω—Ç |
|--------|--------------------|-------------|
| –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ | WebSockets, SSE, Long Polling | WebSockets, Long Polling |
| –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è | —á–µ—Ä–µ–∑ `accessTokenFactory` | —á–µ—Ä–µ–∑ `AccessTokenProvider` –∏–ª–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏ |
| –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ | `.configureLogging()` | `.ConfigureLogging()` |
| –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ | `.withAutomaticReconnect()` | –†—É—á–Ω–æ–µ –∏–ª–∏ —á–µ—Ä–µ–∑ `Closed` —Å–æ–±—ã—Ç–∏–µ |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π | `.on()` | `.On<>()` |
| –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞ | `.invoke()` | `.InvokeAsync()` |

---

## üìå –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ SignalR –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞–¥–∞—á—É:
- **JavaScript –∫–ª–∏–µ–Ω—Ç** ‚Äî –∏–¥–µ–∞–ª–µ–Ω –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.
- **.NET –∫–ª–∏–µ–Ω—Ç** ‚Äî –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è desktop- –∏ backend-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.