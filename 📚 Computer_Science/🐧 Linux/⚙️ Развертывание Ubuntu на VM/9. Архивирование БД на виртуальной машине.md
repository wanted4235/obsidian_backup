## üõ°Ô∏è –ó–∞—á–µ–º –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö?

> üí° –ü–æ—Ç–æ–º—É —á—Ç–æ **–¥–∞–Ω–Ω—ã–µ ‚Äî —Å–∞–º–æ–µ —Ü–µ–Ω–Ω–æ–µ**, —á—Ç–æ –µ—Å—Ç—å –≤ —Å–∏—Å—Ç–µ–º–µ.

–ê—Ä—Ö–∏–≤–∞—Ü–∏—è (—Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ) –Ω—É–∂–Ω–∞ –¥–ª—è:
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ —Å–±–æ—è
- –ó–∞—â–∏—Ç—ã –æ—Ç –æ—à–∏–±–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ª—É—á–∞–π–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã)
- –ü–µ—Ä–µ–Ω–æ—Å–∞ –ë–î –Ω–∞ –¥—Ä—É–≥–æ–π —Å–µ—Ä–≤–µ—Ä
- –û–±–µ—Å–ø–µ—á–µ–Ω–∏—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã

---

## üì¶ –ß—Ç–æ —Ç–∞–∫–æ–µ **–¥–∞–º–ø (dump)**?

**–î–∞–º–ø** ‚Äî —ç—Ç–æ **—Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª —Å SQL-–∫–æ–º–∞–Ω–¥–∞–º–∏**, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç:
- –°—Ç—Ä—É–∫—Ç—É—Ä—É –±–∞–∑—ã (CREATE TABLE –∏ —Ç.–¥.)
- –î–∞–Ω–Ω—ã–µ (INSERT INTO –∏ —Ç.–¥.)

> üí¨ –ü—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è: **–¥–∞–º–ø ‚Äî —ç—Ç–æ "—Ñ–æ—Ç–æ" –≤—Å–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏**, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–Ω–æ –ø–æ—Ç–æ–º "–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏".

---

## üß∞ –û—Å–Ω–æ–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –ë–î

| –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
|------|--------|------------------|
| **–õ–æ–≥–∏—á–µ—Å–∫–∏–π –¥–∞–º–ø (SQL-–¥–∞–º–ø)** | –¢–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª —Å SQL-–∑–∞–ø—Ä–æ—Å–∞–º–∏ | ‚úÖ –î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤, –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è MySQL/PostgreSQL |
| **–§–∏–∑–∏—á–µ—Å–∫–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –ë–î** | –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —Å –¥–∞–Ω–Ω—ã–º–∏ –Ω–∞–ø—Ä—è–º—É—é | ‚ùó –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –ë–î –≤—ã–∫–ª—é—á–µ–Ω–∞ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç |
| **–†–µ–ø–ª–∏–∫–∞—Ü–∏—è + —Å–Ω–∞–ø—à–æ—Ç—ã** | –ì–æ—Ä—è—á–µ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ —Ä–µ–ø–ª–∏–∫—É | –î–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Å–∏—Å—Ç–µ–º —Å –≤—ã—Å–æ–∫–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é |

> ‚úÖ **–ù–æ–≤–∏—á–∫—É ‚Äî –Ω–∞—á–∏–Ω–∞—Ç—å —Å –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –¥–∞–º–ø–∞.**

---

## üìÅ –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–º–ø—ã?

- –ù–∞ **–≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ** ‚Äî –≤—Ä–µ–º–µ–Ω–Ω–æ
- –ù–∞ **—Ö–æ—Å—Ç–µ** (–æ—Å–Ω–æ–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ) ‚Äî –ª—É—á—à–µ
- –ù–∞ **–≤–Ω–µ—à–Ω–µ–º –¥–∏—Å–∫–µ / NAS / –æ–±–ª–∞–∫–µ** ‚Äî –∏–¥–µ–∞–ª—å–Ω–æ
- –í **–æ—Ç–¥–µ–ª—å–Ω–æ–π –ø–∞–ø–∫–µ**, –Ω–∞–ø—Ä–∏–º–µ—Ä: `/backups/db/`

---

# üîß –ü—Ä–∞–∫—Ç–∏–∫–∞: –∫–∞–∫ –¥–µ–ª–∞—Ç—å –¥–∞–º–ø—ã

## 1. **MySQL / MariaDB**

### ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –¥–∞–º–ø–∞
```bash
mysqldump -u root -p –∏–º—è_–±–∞–∑—ã > backup_2025-04-05.sql
```

> –í–≤–µ–¥–∏ –ø–∞—Ä–æ–ª—å ‚Üí —Ñ–∞–π–ª `backup_2025-04-05.sql` –ø–æ—è–≤–∏—Ç—Å—è –≤ —Ç–µ–∫—É—â–µ–π –ø–∞–ø–∫–µ.

#### –ü—Ä–∏–º–µ—Ä:
```bash
mysqldump -u root -p mysite_db > /backups/db/mysite_db_$(date +%F).sql
```

> `$(date +%F)` –¥–æ–±–∞–≤–∏—Ç —Å–µ–≥–æ–¥–Ω—è—à–Ω—é—é –¥–∞—Ç—É: `mysite_db_2025-04-05.sql`

### ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –¥–∞–º–ø–∞
```bash
mysql -u root -p –∏–º—è_–±–∞–∑—ã < backup_2025-04-05.sql
```

> –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –±–∞–∑–∞ –¥–æ–ª–∂–Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å:
> ```bash
> mysql -u root -p -e "CREATE DATABASE –∏–º—è_–±–∞–∑—ã;"
> ```

### ‚úÖ –î–∞–º–ø –≤—Å–µ—Ö –±–∞–∑
```bash
mysqldump -u root -p --all-databases > full_backup.sql
```

---

## 2. **PostgreSQL**

### ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –¥–∞–º–ø–∞
```bash
pg_dump -U –∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–º—è_–±–∞–∑—ã > backup.sql
```

#### –ü—Ä–∏–º–µ—Ä:
```bash
pg_dump -U postgres myapp_db > /backups/db/myapp_db_$(date +%F).sql
```

> –ú–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –≤–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å `~/.pgpass`.

### ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
```bash
psql -U postgres –∏–º—è_–±–∞–∑—ã < backup.sql
```

> –ë–∞–∑–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω–∞:
> ```bash
> createdb -U postgres –∏–º—è_–±–∞–∑—ã
> ```

---

## üóÇÔ∏è –ö–∞–∫ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –¥–∞–º–ø (—Å–∂–∞—Ç–∏–µ)

–ß—Ç–æ–±—ã —ç–∫–æ–Ω–æ–º–∏—Ç—å –º–µ—Å—Ç–æ, –¥–∞–º–ø –º–æ–∂–Ω–æ **—Å–∂–∞—Ç—å**:

```bash
# MySQL —Å —Å–∂–∞—Ç–∏–µ–º gzip
mysqldump mysite_db | gzip > backup_$(date +%F).sql.gz

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
gunzip < backup_2025-04-05.sql.gz | mysql -u root -p mysite_db
```

–ò–ª–∏ —Å `zip`:
```bash
mysqldump mysite_db | zip backup_$(date +%F).zip -
```

---

## üïê –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è: **cron-–∑–∞–¥–∞—á–∞ –¥–ª—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –±—ç–∫–∞–ø–∞**

–°–æ–∑–¥–∞–¥–∏–º —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç **–¥–µ–ª–∞—Ç—å –¥–∞–º–ø –∫–∞–∂–¥—ã–π –¥–µ–Ω—å**.

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π —Å–∫—Ä–∏–ø—Ç
```bash
sudo nano /usr/local/bin/backup-db.sh
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ (–¥–ª—è MySQL):
```bash
#!/bin/bash
# –°–∫—Ä–∏–ø—Ç —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è MySQL

BACKUP_DIR="/backups/db"
DB_NAME="mysite_db"
DB_USER="root"
DATE=$(date +%F)

# –°–æ–∑–¥–∞—ë–º –ø–∞–ø–∫—É, –µ—Å–ª–∏ –µ—ë –Ω–µ—Ç
mkdir -p $BACKUP_DIR

# –î–µ–ª–∞–µ–º –¥–∞–º–ø –∏ —Å–∂–∏–º–∞–µ–º
mysqldump -u $DB_USER -p"—Ç–≤–æ–π_–ø–∞—Ä–æ–ª—å" $DB_NAME | gzip > "$BACKUP_DIR/${DB_NAME}_$DATE.sql.gz"

# –£–¥–∞–ª—è–µ–º –±—ç–∫–∞–ø—ã —Å—Ç–∞—Ä—à–µ 7 –¥–Ω–µ–π
find $BACKUP_DIR -name "*.sql.gz" -mtime +7 -delete
```

> üîê **–í–∞–∂–Ω–æ**: —Ö—Ä–∞–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å –≤ —Å–∫—Ä–∏–ø—Ç–µ ‚Äî –Ω–µ –æ—á–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ.  
> –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∞–π–ª `.my.cnf`:
> ```ini
> [client]
> user = root
> password = —Ç–≤–æ–π_–ø–∞—Ä–æ–ª—å
> ```

### –®–∞–≥ 2: –°–¥–µ–ª–∞–π —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
```bash
sudo chmod +x /usr/local/bin/backup-db.sh
```

### –®–∞–≥ 3: –î–æ–±–∞–≤—å –≤ cron
```bash
crontab -e
```

–î–æ–±–∞–≤—å —Å—Ç—Ä–æ–∫—É:
```bash
0 2 * * * /usr/local/bin/backup-db.sh
```

> –≠—Ç–æ –∑–Ω–∞—á–∏—Ç: **–∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 2:00 —É—Ç—Ä–∞** –∑–∞–ø—É—Å–∫–∞—Ç—å –±—ç–∫–∞–ø.

---

## üîÑ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∞–≤–∞—Ä–∏–∏

–ü—Ä–µ–¥—Å—Ç–∞–≤—å: –í–ú —Å–ª–æ–º–∞–ª–∞—Å—å, –¥–∏—Å–∫ –ø–æ–≤—Ä–µ–∂–¥—ë–Ω. –ß—Ç–æ –¥–µ–ª–∞—Ç—å?

1. –ó–∞–ø—É—Å—Ç–∏ **–Ω–æ–≤—É—é –í–ú** —Å —Ç–æ–π –∂–µ –û–°.
2. –£—Å—Ç–∞–Ω–æ–≤–∏ –°–£–ë–î (MySQL/PostgreSQL).
3. –°–∫–æ–ø–∏—Ä—É–π –¥–∞–º–ø —Å –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –º–µ—Å—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å —Ö–æ—Å—Ç–∞ –∏–ª–∏ –æ–±–ª–∞–∫–∞).
4. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏:
   ```bash
   mysql -u root -p mysite_db < backup_2025-04-05.sql
   ```
5. –ì–æ—Ç–æ–≤–æ ‚Äî –¥–∞–Ω–Ω—ã–µ –Ω–∞ –º–µ—Å—Ç–µ!

---

## üß† –ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã

| –°–æ–≤–µ—Ç | –û–±—ä—è—Å–Ω–µ–Ω–∏–µ |
|------|-----------|
| üîê **–ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ –¥–∞–º–ø—ã —Å –ø–∞—Ä–æ–ª—è–º–∏ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ** | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `.my.cnf` –∏–ª–∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ |
| üíæ **–ö–æ–ø–∏—Ä—É–π—Ç–µ –¥–∞–º–ø—ã –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –í–ú** | –ù–∞ —Ö–æ—Å—Ç, –¥–∏—Å–∫, –æ–±–ª–∞–∫–æ (Google Drive, Dropbox, S3) |
| üìÖ **–î–µ–ª–∞–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –±—ç–∫–∞–ø—ã** | –•–æ—Ç—è –±—ã —Ä–∞–∑ –≤ –¥–µ–Ω—å |
| üß™ **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** | –†–∞–∑ –≤ –º–µ—Å—è—Ü ‚Äî –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∞–º–ø |
| üß∞ **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–º–µ–Ω–∞ —Å –¥–∞—Ç–æ–π** | `db_backup_2025-04-05.sql.gz` ‚Äî —É–¥–æ–±–Ω–æ –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ |

---

## üì¶ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: —Å–Ω–∞–ø—à–æ—Ç—ã + –¥–∞–º–ø—ã

> üí° –õ—É—á—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞:
- **–°–Ω–∞–ø—à–æ—Ç—ã VirtualBox** ‚Äî –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ—Ç–∫–∞—Ç–∞ —Å–∏—Å—Ç–µ–º—ã
- **SQL-–¥–∞–º–ø—ã** ‚Äî –¥–ª—è —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

> ‚ö†Ô∏è –°–Ω–∞–ø—à–æ—Ç—ã **–Ω–µ –∑–∞–º–µ–Ω—è—é—Ç —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**! –û–Ω–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ–¥–Ω–æ–π –ø–∞–ø–∫–µ –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ—Ç–µ—Ä—è–Ω—ã –ø—Ä–∏ —Å–±–æ–µ –¥–∏—Å–∫–∞.

---

## üìù –í—ã–≤–æ–¥

> ‚úÖ **–î–∞–º–ø ‚Äî —ç—Ç–æ –Ω–∞–¥—ë–∂–Ω—ã–π —Å–ø–æ—Å–æ–± —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –ë–î.**  
> –ò—Å–ø–æ–ª—å–∑—É–π:
> - `mysqldump` –∏–ª–∏ `pg_dump`
> - –°–∂–∞—Ç–∏–µ (`gzip`)
> - –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ `cron`
> - –•—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –í–ú

---
